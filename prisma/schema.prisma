generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model usuario {
  id                       Int                        @id @default(autoincrement())
  nombres                  String
  apellido                 String
  email                    String                     @unique
  password                 String
  codigo_empleado          String                     @unique
  created_at               DateTime                   @default(now())
  updated_at               DateTime                   @updatedAt
  tipos_equipos_inventario tipos_equipos_inventario[]
}

model marca {
  id             Int              @id @default(autoincrement())
  nombre         String           @unique
  created_at     DateTime         @default(now())
  updated_at     DateTime         @updatedAt
  equipo         equipo[]
  especificacion especificacion[]
}

model equipo {
  id                       Int                        @id @default(autoincrement())
  nombre                   String
  marca                    marca                      @relation(fields: [marca_id], references: [id])
  marca_id                 Int
  created_at               DateTime                   @default(now())
  updated_at               DateTime                   @updatedAt
  ubicacionId              Int?
  tipos_equipos_inventario tipos_equipos_inventario[]
}

model ubicacion {
  id          Int      @id @default(autoincrement())
  cede_nombre String
  edificio    String
  nivel       String
  area        String
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt
}

model especificacion {
  id          Int      @id @default(autoincrement())
  descripcion String
  modelo      String
  serie       String
  dimensiones String?
  activo_fijo Boolean?
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt
  marca       marca?   @relation(fields: [marcaId], references: [id])
  marcaId     Int?
}

model area {
  id         Int      @id @default(autoincrement())
  nombre     String
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
}

enum estado_equipo {
  ASIGNADO
  DESCARTE
  BODEGA
}

model tipos_equipos_inventario {
  id               Int           @id @default(autoincrement())
  equipo           equipo?       @relation(fields: [equipo_id], references: [id])
  equipo_id        Int
  especificaciones String
  direccion_ip     String
  estado           estado_equipo @default(ASIGNADO)
  administrativo   Boolean       @default(false)
  email            String?
  usuario          usuario?      @relation(fields: [usuario_id], references: [id])
  usuario_id       Int?
  created_at       DateTime      @default(now())
  updated_at       DateTime      @updatedAt
}
